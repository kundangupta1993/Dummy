const TS_FILES = 'src/**/*.ts';
const OUT_FILE = 'typed-table.js';
const OUT_DIR = 'lib';

var gulp = require('gulp');
var plumber = require("gulp-plumber");
var ts = require('gulp-typescript');
var notify  = require('gulp-notify');

gulp.task('default', function () {
	gulp.src(TS_FILES)
		.pipe(plumber({
			errorHandler: notify.onError("Error: <%= error.message %>")
		}))
		.pipe(
			ts({
				noImplicitAny: true,
				out: OUT_FILE
			})
		)
		.js
		.pipe(
			gulp.dest(OUT_DIR)
		);	
});

gulp.task('watch', function () {
	gulp.watch(TS_FILES, ['default']);
});