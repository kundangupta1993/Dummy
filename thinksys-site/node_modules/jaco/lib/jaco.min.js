/*!
 * jaco - v1.2.0
 * Japanese Character Optimizer.
 * update: 2015-03-04
 * Author: YusukeHirao [http://jaco-project.github.io/docs/]
 * Repository: git@github.com:jaco-project/jaco-js.git
 * License: MIT
 */


(function(){"use strict";var a,b=this;!function(a){function b(b,c){return void 0===c&&(c=!1),new a.Jaco(b).toHiragana(c).toString()}function c(b,c){return void 0===c&&(c=!0),new a.Jaco(b).toKatakana(c).toString()}function d(b){return new a.Jaco(b).isOnlyHiragana()}function e(b){return new a.Jaco(b).isOnlyKatakana()}function f(b){return b.sort(a.naturalKanaOrder)}function g(b,c){if(b===c)return 0;var d,e,f=new a.Jaco(b).toNarrow().toPhoeticKana(),g=new a.Jaco(c).toNarrow().toPhoeticKana(),j=f.toString(),k=g.toString(),l=f.removeVoicedMarks(!0).toString(),m=g.removeVoicedMarks(!0).toString(),n=h(l),o=h(m),p=0,q=Math.max(b.length,c.length),r=/[ーぁぃぅぇぉっゃゅょゎァィゥェォヵㇰヶㇱㇲッㇳㇴㇵㇶㇷㇸㇹㇺャュョㇻㇼㇽㇾㇿヮゝゞヽヾ]/;if(o>n)return-1;if(n>o)return 1;for(;q>p;p++)if(r.test(b[p])||r.test(c[p])){if(d=i(b[p]),e=i(c[p]),e>d)return-1;if(d>e)return 1}else{if(j[p]<k[p])return-1;if(k[p]<j[p])return 1}for(p=0;q>p;p++){if(d=a.hiraganaOnly(b[p])?"0":"1",e=a.hiraganaOnly(c[p])?"0":"1",e>d)return-1;if(d>e)return 1}return 0}function h(b){return new a.Jaco(b).replaceMap({"あ":"ぁ","い":"あ","う":"ぃ","え":"い","お":"ぅ","か":"う","き":"ぇ","く":"え","け":"ぉ","こ":"お","さ":"か","し":"が","す":"き","せ":"ぎ","そ":"く","た":"ぐ","ち":"げ","つ":"こ","て":"ご","と":"さ","な":"ざ","に":"し","ぬ":"じ","ね":"す","の":"ず","は":"せ","ひ":"ぜ","ふ":"そ","へ":"ぞ","ほ":"た","ま":"だ","み":"ち","む":"ぢ","め":"っ","も":"つ","や":"づ","ゆ":"て","よ":"で","ら":"と","り":"ど","る":"な","れ":"に","ろ":"ぬ","わ":"ね","ゐ":"の","ゑ":"は","を":"ば","ん":"ぱ","ゝ":"ひ","ー":"び"}).toString()}function i(a){var b=a.replace("ー","0").replace(/[ぁぃぅぇぉっゃゅょゎァィゥェォヵㇰヶㇱㇲッㇳㇴㇵㇶㇷㇸㇹㇺャュョㇻㇼㇽㇾㇿヮ]/,function(a){return a.charCodeAt(0).toString(16)}).replace("ゝ","4000").replace("ヽ","4001").replace("ゞ","4002").replace("ヾ","4003").replace(/[^0-9]/,"9000");return b}a.SIGN_CHARS="\\u0020-\\u002F\\u003A-\\u0041\\u005B-\\u0061\\u007B-\\u007E",a.DIGIT_CAHRS="0-9",a.ALPHA_CHARS="A-Za-z",a.ALPHANUMERIC_CHARS_WITH_SIGN="\\u0020-\\u007E",a.FULLWIDTH_SING_CHARS="\\uFF01-\\uFF0F\\uFF1A-\\uFF20\\uFF3B-\\uFF40\\uFF5B-\\uFF5E",a.FULLWIDTH_DIGIT_CHARS="\\uFF10-\\uFF19",a.FULLWIDTH_ALPHA_CHARS="\\uFF21-\\uFF3A\\uFF41-\\uFF5A",a.FULLWIDTH_ALPHANUMERIC_CHARS_WITH_SIGN="\\uFF01-\\uFF5F",a.HIRAGANA_CHARS="\\u3041-\\u3096\\u309D-\\u309F",a.HIRAGANA_CHARS_IGNORE_ITERATION_MARKS="\\u3041-\\u3096",a.KATAKANA_CHARS="\\u30A1-\\u30FA\\u30FD\\u30FF",a.KATAKANA_CHARS_IGNORE_ITERATION_MARKS="\\u30A1-\\u30FA",a.KANA_COMMON_CAHRS="゙-゜ー",a.JAPANESE_SIGN_CHARS="　-〶・\\uFF5E",a.NARROW_KATAKANA_CHARS="\\uFF66-\\uFF9F",a.NARROW_JAPANESE_SIGN_CHARS="\\uFF61-\\uFF65",a.SPACE_CHARS="\\s\\n\\t\\u0009\\u0020\\u00A0\\u2002-\\u200B\\u3000\\uFEFF",a.hiraganize=b,a.katakanize=c,a.hiraganaOnly=d,a.katakanaOnly=e,a.naturalKanaSort=f,a.naturalKanaOrder=g}(a||(a={}));var a;!function(a){function b(a){return new RegExp("["+a+"]","g")}function c(a,b){return void 0===b&&(b="igm"),new RegExp(a,b)}var d=function(){function d(a){return this instanceof d?void(this._str=a.toString()):new d(a)}return d.prototype.toString=function(){return this._str},d.prototype.valueOf=function(){return this.toString()},d.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this._str+=a.join(""),this},d.prototype.replace=function(a,b){return this._str=this._str.replace(a,b),this},d.prototype.slice=function(a,b){return new d(this._str.slice(a,b))},d.prototype.substr=function(a,b){return new d(this._str.slice(a,b))},d.prototype.substring=function(a,b){return new d(this._str.substring(a,b))},d.prototype.toLowerCase=function(){return this._str=this._str.toLowerCase(),this},d.prototype.toUpperCase=function(){return this._str=this._str.toUpperCase(),this},d.prototype.remove=function(a){return this.replace(a,"")},d.prototype.trim=function(){return this.remove(/^\s*|\s*$/g)},d.prototype.size=function(){return this._str.length},d.prototype.byteSize=function(){return encodeURIComponent(this._str).replace(/%../g,"x").length},d.prototype.isEmpty=function(){return""===this._str},d.prototype.clone=function(){return new d(this._str)},d.prototype.test=function(a){var b;return b="string"==typeof a?this._str===a:a.test(this._str)},d.prototype.prepend=function(a){return this._str=new d(a).concat(this).toString(),this},d.prototype.append=function(a){return this.concat(a)},d.prototype.is=function(a){return this._str===a.toString()},d.prototype.has=function(a){return-1!==this._str.indexOf(a.toString())},d.prototype.isOnly=function(a){return this.test(new RegExp("^["+a+"]+$","gm"))},d.prototype.isOnlyHiragana=function(){return this.isOnly(a.HIRAGANA_CHARS+a.KANA_COMMON_CAHRS)},d.prototype.isOnlyKatakana=function(){return this.isOnly(a.KATAKANA_CHARS+a.KANA_COMMON_CAHRS)},d.prototype.isNumeric=function(a,b){void 0===a&&(a=!0),void 0===b&&(b=!0);var d="^";return a&&(d+="-?"),b&&(d+="(?:[0-9]*\\.)?"),d+="[0-9]+$",this.test(c(d))},d.prototype.toNumber=function(){return parseFloat(this._str)},d.prototype.toNumeric=function(a,b){return void 0===a&&(a=!1),void 0===b&&(b=!1),this.toNarrow(),this.remove(/[^0-9\.\-]/gm),a&&this.replace(/^-/,"n"),this.remove(/-/g),a&&this.replace("n","-"),b&&this.replace(/\.([0-9])/,"_$1"),this.remove(/\./g),b&&this.replace("_","."),this},d.prototype.combinate=function(){return this.replaceMap({"゛":"゙","゜":"゚"})},d.prototype.combinateSoundMarks=function(a){return void 0===a&&(a=!1),a?this.replaceMap({"゛":"゙","゜":"゚"}):(this.combinateSoundMarks(!0),this.replaceMap({"が":"が","ぎ":"ぎ","ぐ":"ぐ","げ":"げ","ご":"ご","ざ":"ざ","じ":"じ","ず":"ず","ぜ":"ぜ","ぞ":"ぞ","だ":"だ","ぢ":"ぢ","づ":"づ","で":"で","ど":"ど","ば":"ば","び":"び","ぶ":"ぶ","べ":"べ","ぼ":"ぼ","ガ":"ガ","ギ":"ギ","グ":"グ","ゲ":"ゲ","ゴ":"ゴ","ザ":"ザ","ジ":"ジ","ズ":"ズ","ゼ":"ゼ","ゾ":"ゾ","ダ":"ダ","ヂ":"ヂ","ヅ":"ヅ","デ":"デ","ド":"ド","バ":"バ","ビ":"ビ","ブ":"ブ","ベ":"ベ","ボ":"ボ","ヷ":"ヷ","イ゙":"ヸ","ヴ":"ヴ","エ゙":"ヹ","ヺ゙":"ヲ","ゞ":"ゞ","ヾ":"ヾ","ぱ":"ぱ","ぴ":"ぴ","ぷ":"ぷ","ぺ":"ぺ","ぽ":"ぽ","パ":"パ","ピ":"ピ","プ":"プ","ペ":"ペ","ポ":"ポ"}))},d.prototype.toHiragana=function(c){return void 0===c&&(c=!1),this.toWideKatakana(),this.replaceMap({"ヷ":"わ゛","ヸ":"ゐ゛","ヹ":"ゑ゛","ヺ":"を゛"}),this._shift(b(a.KATAKANA_CHARS),-96),c&&this.combinateSoundMarks(),this},d.prototype.toKatakana=function(c){return void 0===c&&(c=!0),c&&this.toWideKatakana(),this.replace(/\u308F(?:\u309B|\u3099|\uFF9E)/g,"ヷ"),this.replace(/\u3090(?:\u309B|\u3099|\uFF9E)/g,"ヸ"),this.replace(/\u3091(?:\u309B|\u3099|\uFF9E)/g,"ヹ"),this.replace(/\u3092(?:\u309B|\u3099|\uFF9E)/g,"ヺ"),this._shift(b(a.HIRAGANA_CHARS),96),this},d.prototype.toNarrowKatakana=function(a){return void 0===a&&(a=!1),a&&this.toKatakana(),this.replace(/\u309B|\u3099/g,"ﾞ"),this.replace(/\u309C|\u309A/g,"ﾟ"),this.replaceMap({"ァ":"ｧ","ィ":"ｨ","ゥ":"ｩ","ェ":"ｪ","ォ":"ｫ","ャ":"ｬ","ュ":"ｭ","ョ":"ｮ","ッ":"ｯ","ヵ":"ｶ","ヶ":"ｹ","ヮ":"ﾜ","ー":"ｰ","ア":"ｱ","イ":"ｲ","ウ":"ｳ","エ":"ｴ","オ":"ｵ","カ":"ｶ","キ":"ｷ","ク":"ｸ","ケ":"ｹ","コ":"ｺ","サ":"ｻ","シ":"ｼ","ス":"ｽ","セ":"ｾ","ソ":"ｿ","タ":"ﾀ","チ":"ﾁ","ツ":"ﾂ","テ":"ﾃ","ト":"ﾄ","ナ":"ﾅ","ニ":"ﾆ","ヌ":"ﾇ","ネ":"ﾈ","ノ":"ﾉ","ハ":"ﾊ","ヒ":"ﾋ","フ":"ﾌ","ヘ":"ﾍ","ホ":"ﾎ","マ":"ﾏ","ミ":"ﾐ","ム":"ﾑ","メ":"ﾒ","モ":"ﾓ","ヤ":"ﾔ","ユ":"ﾕ","ヨ":"ﾖ","ラ":"ﾗ","リ":"ﾘ","ル":"ﾙ","レ":"ﾚ","ロ":"ﾛ","ワ":"ﾜ","ン":"ﾝ","ヰ":"ｲ","ヱ":"ｴ","ヲ":"ｦ","ガ":"ｶﾞ","ギ":"ｷﾞ","グ":"ｸﾞ","ゲ":"ｹﾞ","ゴ":"ｺﾞ","ザ":"ｻﾞ","ジ":"ｼﾞ","ズ":"ｽﾞ","ゼ":"ｾﾞ","ゾ":"ｿﾞ","ダ":"ﾀﾞ","ヂ":"ﾁﾞ","ヅ":"ﾂﾞ","デ":"ﾃﾞ","ド":"ﾄﾞ","バ":"ﾊﾞ","ビ":"ﾋﾞ","ブ":"ﾌﾞ","ベ":"ﾍﾞ","ボ":"ﾎﾞ","パ":"ﾊﾟ","ピ":"ﾋﾟ","プ":"ﾌﾟ","ペ":"ﾍﾟ","ポ":"ﾎﾟ","ヷ":"ﾜﾞ","ヸ":"ｲﾞ","ヴ":"ｳﾞ","ヹ":"ｴﾞ","ヺ":"ｦﾞ"}),this},d.prototype.toWideKatakana=function(){return this.replaceMap({"ｶﾞ":"ガ","ｷﾞ":"ギ","ｸﾞ":"グ","ｹﾞ":"ゲ","ｺﾞ":"ゴ","ｻﾞ":"ザ","ｼﾞ":"ジ","ｽﾞ":"ズ","ｾﾞ":"ゼ","ｿﾞ":"ゾ","ﾀﾞ":"ダ","ﾁﾞ":"ヂ","ﾂﾞ":"ヅ","ﾃﾞ":"デ","ﾄﾞ":"ド","ﾊﾞ":"バ","ﾋﾞ":"ビ","ﾌﾞ":"ブ","ﾍﾞ":"ベ","ﾎﾞ":"ボ","ﾊﾟ":"パ","ﾋﾟ":"ピ","ﾌﾟ":"プ","ﾍﾟ":"ペ","ﾎﾟ":"ポ","ﾜﾞ":"ヷ","ｲﾞ":"ヸ","ｳﾞ":"ヴ","ｴﾞ":"ヹ","ｦﾞ":"ヺ","ﾞ":"゛","ﾟ":"゜","ｧ":"ァ","ｨ":"ィ","ｩ":"ゥ","ｪ":"ェ","ｫ":"ォ","ｬ":"ャ","ｭ":"ュ","ｮ":"ョ","ｯ":"ッ","ｰ":"ー","ｱ":"ア","ｲ":"イ","ｳ":"ウ","ｴ":"エ","ｵ":"オ","ｶ":"カ","ｷ":"キ","ｸ":"ク","ｹ":"ケ","ｺ":"コ","ｻ":"サ","ｼ":"シ","ｽ":"ス","ｾ":"セ","ｿ":"ソ","ﾀ":"タ","ﾁ":"チ","ﾂ":"ツ","ﾃ":"テ","ﾄ":"ト","ﾅ":"ナ","ﾆ":"ニ","ﾇ":"ヌ","ﾈ":"ネ","ﾉ":"ノ","ﾊ":"ハ","ﾋ":"ヒ","ﾌ":"フ","ﾍ":"ヘ","ﾎ":"ホ","ﾏ":"マ","ﾐ":"ミ","ﾑ":"ム","ﾒ":"メ","ﾓ":"モ","ﾔ":"ヤ","ﾕ":"ユ","ﾖ":"ヨ","ﾗ":"ラ","ﾘ":"リ","ﾙ":"ル","ﾚ":"レ","ﾛ":"ロ","ﾜ":"ワ","ｦ":"ヲ","ﾝ":"ン"}),this},d.prototype.toNarrowJapneseSymbol=function(){return this.replaceMap({"。":"｡","「":"｢","」":"｣","、":"､","・":"･"}),this},d.prototype.toWideJapneseSymbol=function(){return this.replaceMap({"｡":"。","｢":"「","｣":"」","､":"、","･":"・"}),this},d.prototype.toNarrowJapnese=function(){return this.toNarrowKatakana(),this.toNarrowJapneseSymbol(),this},d.prototype.toWideJapnese=function(){return this.toWideKatakana(),this.toWideJapneseSymbol(),this},d.prototype.toNarrow=function(c){return void 0===c&&(c=!1),this.replace(b(a.SPACE_CHARS)," "),this._shift(b(a.FULLWIDTH_ALPHANUMERIC_CHARS_WITH_SIGN),-65248),c&&this.toNarrowJapnese(),this},d.prototype.toWide=function(){return this.replace(" ","　"),this.toWideJapnese(),this._shift(b(a.ALPHANUMERIC_CHARS_WITH_SIGN),65248),this},d.prototype.addVoicedMarks=function(){return this.remove(/\u309B|\u3099|\uFF9E/g),this.remove(/\u309C|\u309A|\uFF9F/g),this.replaceMap({"か":"が","き":"ぎ","く":"ぐ","け":"げ","こ":"ご","さ":"ざ","し":"じ","す":"ず","せ":"ぜ","そ":"ぞ","た":"だ","ち":"ぢ","つ":"づ","て":"で","と":"ど","は":"ば","ひ":"び","ふ":"ぶ","へ":"べ","ほ":"ぼ","カ":"ガ","キ":"ギ","ク":"グ","ケ":"ゲ","コ":"ゴ","サ":"ザ","シ":"ジ","ス":"ズ","セ":"ゼ","ソ":"ゾ","タ":"ダ","チ":"ヂ","ツ":"ヅ","テ":"デ","ト":"ド","ハ":"バ","ヒ":"ビ","フ":"ブ","ヘ":"ベ","ホ":"ボ","ワ":"ヷ","イ":"ヸ","ウ":"ヴ","エ":"ヹ","ヺ":"ヲ","ゝ":"ゞ","ヽ":"ヾ"})},d.prototype.addSemivoicedMarks=function(){return this.replaceMap({"は":"ぱ","ひ":"ぴ","ふ":"ぷ","へ":"ぺ","ほ":"ぽ","ハ":"パ","ヒ":"ピ","フ":"プ","ヘ":"ペ","ホ":"ポ"})},d.prototype.removeVoicedMarks=function(a){return void 0===a&&(a=!1),a||(this.remove(/\u309B|\u3099|\uFF9E/g),this.remove(/\u309C|\u309A|\uFF9F/g)),this.replaceMap({"が":"か","ぎ":"き","ぐ":"く","げ":"け","ご":"こ","ざ":"さ","じ":"し","ず":"す","ぜ":"せ","ぞ":"そ","だ":"た","ぢ":"ち","づ":"つ","で":"て","ど":"と","ば":"は","び":"ひ","ぶ":"ふ","べ":"へ","ぼ":"ほ","ぱ":"は","ぴ":"ひ","ぷ":"ふ","ぺ":"へ","ぽ":"ほ","ガ":"カ","ギ":"キ","グ":"ク","ゲ":"ケ","ゴ":"コ","ザ":"サ","ジ":"シ","ズ":"ス","ゼ":"セ","ゾ":"ソ","ダ":"タ","ヂ":"チ","ヅ":"ツ","デ":"テ","ド":"ト","バ":"ハ","ビ":"ヒ","ブ":"フ","ベ":"ヘ","ボ":"ホ","パ":"ハ","ピ":"ヒ","プ":"フ","ペ":"ヘ","ポ":"ホ","ヷ":"ワ","ヸ":"イ","ヴ":"ウ","ヹ":"エ","ヺ":"ヲ","ゞ":"ゝ","ヾ":"ヽ"})},d.prototype.convertProlongedSoundMarks=function(){for(var b=new RegExp("["+a.HIRAGANA_CHARS+a.KATAKANA_CHARS+"]ー"),c=this._str,d=function(a){return a=a.replace(/([あぁかゕがさざただなはばぱまやゃらわゎ])ー/g,"$1あ").replace(/([いぃきぎしじちぢにひびぴみりゐ])ー/g,"$1い").replace(/([うぅゔくぐすずつづぬふぶぷむゆゅる])ー/g,"$1う").replace(/([えぇけゖげせぜてでねへべぺめれゑ])ー/g,"$1え").replace(/([おぉこごそぞとどのほぼぽもよょろを])ー/g,"$1お").replace(/んー/g,"んん").replace(/っー/g,"っっ").replace(/([アァカヵガサザタダナハバパマヤャラワヮヷ])ー/g,"$1ア").replace(/([イィキギシジチヂニヒビピミリヰヸ])ー/g,"$1イ").replace(/([ウゥヴクグスズツヅヌフブプムユュル])ー/g,"$1ウ").replace(/([エェケヶゲセゼテデネヘベペメレヱヹ])ー/g,"$1エ").replace(/([オォコゴソゾトドノホボポモヨョロヲヺ])ー/g,"$1オ").replace(/ンー/g,"ンン").replace(/ッー/g,"ッッ")};b.test(c);)c=d(c);return this._str=c,this},d.prototype.convertIterationMarks=function(){for(var b=new RegExp("(["+a.HIRAGANA_CHARS_IGNORE_ITERATION_MARKS+a.KATAKANA_CHARS_IGNORE_ITERATION_MARKS+"])([ゝゞヽヾ])"),c=function(c){return c.replace(b,function(b,c,d){var e=c,f=new a.Jaco(c).removeVoicedMarks(),g=d;switch(g){case"ゝ":f.toHiragana();break;case"ヽ":f.toKatakana();break;case"ゞ":f.toHiragana().addVoicedMarks();break;case"ヾ":f.toKatakana().addVoicedMarks()}return e+f})};b.test(this._str);)this._str=c(this._str);return this},d.prototype.toBasicLetter=function(){return this.combinateSoundMarks().replaceMap({"ぁ":"あ","ぃ":"い","ぅ":"う","ぇ":"え","ぉ":"お","っ":"つ","ゃ":"や","ゅ":"ゆ","ょ":"よ","ゎ":"わ","ァ":"ア","ィ":"イ","ゥ":"ウ","ェ":"エ","ォ":"オ","ヵ":"カ","ㇰ":"ク","ヶ":"ケ","ㇱ":"シ","ㇲ":"ス","ッ":"ツ","ㇳ":"ト","ㇴ":"ヌ","ㇵ":"ハ","ㇶ":"ヒ","ㇷ":"フ","ㇸ":"ヘ","ㇹ":"ホ","ㇺ":"ム","ャ":"ヤ","ュ":"ユ","ョ":"ヨ","ㇻ":"ラ","ㇼ":"リ","ㇽ":"ル","ㇾ":"レ","ㇿ":"ロ","ヮ":"ワ"}),this},d.prototype.hasSmallLetter=function(){return/[ぁぃぅぇぉっゃゅょゎァィゥェォヵㇰヶㇱㇲッㇳㇴㇵㇶㇷㇸㇹㇺャュョㇻㇼㇽㇾㇿヮ]/.test(this._str)},d.prototype.toPhoeticKana=function(){return this.toHiragana().toBasicLetter().convertProlongedSoundMarks().convertIterationMarks(),this},d.prototype.replaceMap=function(a){var b,d;for(b in a)a.hasOwnProperty(b)&&(d=a[b],this._str=this._str.replace(c(b),d));return this},d.prototype._shift=function(a,b){return this._str=this._str.replace(a,function(a){return String.fromCharCode(a.charCodeAt(0)+b)}),this},d}();a.Jaco=d}(a||(a={})),"process"in b?module.exports=a:b.jaco=a}).call((this||0).self||global);
//# sourceMappingURL=jaco.min.js.map